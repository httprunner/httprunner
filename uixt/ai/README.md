# HttpRunner AI æ¨¡å—æ–‡æ¡£

## ğŸ“– æ¦‚è¿°

HttpRunner AI æ¨¡å—æ˜¯ä¸€ä¸ªé›†æˆäº†å¤šç§äººå·¥æ™ºèƒ½æœåŠ¡çš„ UI è‡ªåŠ¨åŒ–æ™ºèƒ½å¼•æ“ï¼Œæä¾›åŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ™ºèƒ½è§„åˆ’ã€æ–­è¨€éªŒè¯ã€ä¿¡æ¯æŸ¥è¯¢ã€è®¡ç®—æœºè§†è§‰è¯†åˆ«ç­‰åŠŸèƒ½ï¼Œå®ç°çœŸæ­£çš„æ™ºèƒ½åŒ– UI è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½è§„åˆ’ (Planning)
- **è§†è§‰è¯­è¨€æ¨¡å‹é©±åŠ¨**: åŸºäºå±å¹•æˆªå›¾å’Œè‡ªç„¶è¯­è¨€æŒ‡ä»¤ç”Ÿæˆæ“ä½œåºåˆ—
- **å¤šæ¨¡å‹æ”¯æŒ**: æ”¯æŒ UI-TARSã€è±†åŒ…è§†è§‰ç­‰å¤šç§ä¸“ä¸šæ¨¡å‹
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**: ç»´æŠ¤å¯¹è¯å†å²ï¼Œæ”¯æŒå¤šè½®äº¤äº’è§„åˆ’
- **åŠ¨ä½œè§£æ**: å°†æ¨¡å‹è¾“å‡ºè§£æä¸ºæ ‡å‡†åŒ–çš„å·¥å…·è°ƒç”¨

### 2. æ™ºèƒ½æ–­è¨€ (Assertion)
- **è§†è§‰éªŒè¯**: åŸºäºå±å¹•æˆªå›¾éªŒè¯æ–­è¨€æ¡ä»¶
- **è‡ªç„¶è¯­è¨€æ–­è¨€**: æ”¯æŒè‡ªç„¶è¯­è¨€æè¿°çš„æ–­è¨€æ¡ä»¶
- **ç»“æ„åŒ–è¾“å‡º**: è¿”å›æ ‡å‡†åŒ–çš„æ–­è¨€ç»“æœå’Œæ¨ç†è¿‡ç¨‹

### 3. æ™ºèƒ½æŸ¥è¯¢ (Query)
- **ä¿¡æ¯æå–**: ä»å±å¹•æˆªå›¾ä¸­æå–æŒ‡å®šä¿¡æ¯
- **è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼**: æ”¯æŒç”¨æˆ·å®šä¹‰çš„ç»“æ„åŒ–æ•°æ®æ ¼å¼
- **è‡ªåŠ¨ç±»å‹è½¬æ¢**: æ™ºèƒ½è½¬æ¢ä¸ºç”¨æˆ·æŒ‡å®šçš„æ•°æ®ç±»å‹
- **å¤šåœºæ™¯é€‚ç”¨**: é€‚ç”¨äºæ¸¸æˆåˆ†æã€UIå…ƒç´ æå–ã€è¡¨å•æ•°æ®æå–ç­‰

### 4. è®¡ç®—æœºè§†è§‰ (Computer Vision)
- **OCR æ–‡æœ¬è¯†åˆ«**: æå–å±å¹•ä¸­çš„æ–‡æœ¬å†…å®¹å’Œä½ç½®ä¿¡æ¯
- **UI å…ƒç´ æ£€æµ‹**: è¯†åˆ«ç•Œé¢ä¸­çš„å›¾æ ‡ã€æŒ‰é’®ç­‰ UI å…ƒç´ 
- **å¼¹çª—æ£€æµ‹**: è‡ªåŠ¨è¯†åˆ«å’Œå®šä½å¼¹çª—åŠå…³é—­æŒ‰é’®
- **åæ ‡è½¬æ¢**: æ”¯æŒç›¸å¯¹åæ ‡å’Œç»å¯¹åæ ‡çš„è½¬æ¢

### 5. ä¼šè¯ç®¡ç† (Session Management)
- **å¯¹è¯å†å²**: ç»´æŠ¤å®Œæ•´çš„å¯¹è¯ä¸Šä¸‹æ–‡
- **æ¶ˆæ¯ç®¡ç†**: æ™ºèƒ½ç®¡ç†ç”¨æˆ·å›¾åƒæ¶ˆæ¯å’ŒåŠ©æ‰‹å›å¤
- **å†å²æ¸…ç†**: è‡ªåŠ¨æ¸…ç†è¿‡æœŸçš„å¯¹è¯è®°å½•

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UI Driver     â”‚    â”‚   AI Module     â”‚    â”‚  LLM Services   â”‚
â”‚   (XTDriver)    â”‚â—„â”€â”€â–ºâ”‚   (ai package)  â”‚â—„â”€â”€â–ºâ”‚ (OpenAI/è±†åŒ…)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚  CV Services    â”‚
                       â”‚   (VEDEM)       â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¥å£

#### ILLMService - LLM æœåŠ¡æ¥å£
```go
type ILLMService interface {
    Plan(ctx context.Context, opts *PlanningOptions) (*PlanningResult, error)
    Assert(ctx context.Context, opts *AssertOptions) (*AssertionResult, error)
    Query(ctx context.Context, opts *QueryOptions) (*QueryResult, error)
    RegisterTools(tools []*schema.ToolInfo) error
}
```

#### IPlanner - è§„åˆ’å™¨æ¥å£
```go
type IPlanner interface {
    Plan(ctx context.Context, opts *PlanningOptions) (*PlanningResult, error)
}
```

#### IAsserter - æ–­è¨€å™¨æ¥å£
```go
type IAsserter interface {
    Assert(ctx context.Context, opts *AssertOptions) (*AssertionResult, error)
}
```

#### IQuerier - æŸ¥è¯¢å™¨æ¥å£
```go
type IQuerier interface {
    Query(ctx context.Context, opts *QueryOptions) (*QueryResult, error)
}
```

#### ICVService - è®¡ç®—æœºè§†è§‰æœåŠ¡æ¥å£
```go
type ICVService interface {
    ReadFromBuffer(imageBuf *bytes.Buffer, opts ...option.ActionOption) (*CVResult, error)
    ReadFromPath(imagePath string, opts ...option.ActionOption) (*CVResult, error)
}
```

## ğŸ”§ ä¸»è¦ç»„ä»¶

### 1. AI æœåŠ¡ç®¡ç†å™¨ (ai.go)

**åŠŸèƒ½**: ç»Ÿä¸€ç®¡ç† LLM æœåŠ¡ï¼Œæä¾›è§„åˆ’ã€æ–­è¨€å’ŒæŸ¥è¯¢åŠŸèƒ½çš„ç»Ÿä¸€å…¥å£

**æ ¸å¿ƒç±»å‹**:
```go
type combinedLLMService struct {
    planner  IPlanner  // æä¾›è§„åˆ’åŠŸèƒ½
    asserter IAsserter // æä¾›æ–­è¨€åŠŸèƒ½
    querier  IQuerier  // æä¾›æŸ¥è¯¢åŠŸèƒ½
}

type ModelConfig struct {
    *openai.ChatModelConfig
    ModelType option.LLMServiceType
}
```

**ä¸»è¦åŠŸèƒ½**:
- æ¨¡å‹é…ç½®ç®¡ç†å’ŒéªŒè¯
- ç¯å¢ƒå˜é‡è¯»å–å’ŒéªŒè¯
- API å¯†é’¥å®‰å…¨å¤„ç†
- å¤šæ¨¡å‹ç±»å‹æ”¯æŒ

**æ”¯æŒçš„æ¨¡å‹ç±»å‹**:
- `DOUBAO_1_5_THINKING_VISION_PRO_250428`: è±†åŒ…æ€ç»´è§†è§‰ä¸“ä¸šç‰ˆ
- `DOUBAO_1_5_UI_TARS_250428`: è±†åŒ…UI-TARSä¸“ä¸šUIè‡ªåŠ¨åŒ–æ¨¡å‹
- `OPENAI_GPT_4O`: OpenAI GPT-4O è§†è§‰æ¨¡å‹

### 2. æ™ºèƒ½è§„åˆ’å™¨ (planner.go)

**åŠŸèƒ½**: åŸºäºè§†è§‰è¯­è¨€æ¨¡å‹è¿›è¡Œ UI æ“ä½œè§„åˆ’

**æ ¸å¿ƒç±»å‹**:
```go
type Planner struct {
    modelConfig *ModelConfig
    model       model.ToolCallingChatModel
    parser      LLMContentParser
    history     ConversationHistory
}

type PlanningOptions struct {
    UserInstruction string          `json:"user_instruction"`
    Message         *schema.Message `json:"message"`
    Size            types.Size      `json:"size"`
    ResetHistory    bool            `json:"reset_history"`
}

type PlanningResult struct {
    ToolCalls []schema.ToolCall  `json:"tool_calls"`
    Thought   string             `json:"thought"`
    Content   string             `json:"content"`
    Error     string             `json:"error,omitempty"`
    ModelName string             `json:"model_name"`
    Usage     *schema.TokenUsage `json:"usage,omitempty"`
}
```

**å·¥ä½œæµç¨‹**:
1. æ¥æ”¶ç”¨æˆ·æŒ‡ä»¤å’Œå±å¹•æˆªå›¾
2. æ„å»ºåŒ…å«ç³»ç»Ÿæç¤ºè¯çš„å¯¹è¯å†å²
3. è°ƒç”¨è§†è§‰è¯­è¨€æ¨¡å‹ç”Ÿæˆå“åº”
4. è§£ææ¨¡å‹è¾“å‡ºä¸ºæ ‡å‡†åŒ–å·¥å…·è°ƒç”¨
5. æ›´æ–°å¯¹è¯å†å²ä»¥æ”¯æŒå¤šè½®äº¤äº’

**ç‰¹æ€§**:
- æ”¯æŒå·¥å…·æ³¨å†Œå’Œå‡½æ•°è°ƒç”¨
- æ™ºèƒ½å¯¹è¯å†å²ç®¡ç†
- å¤šç§è¾“å‡ºæ ¼å¼è§£æ
- è¯¦ç»†çš„æ—¥å¿—è®°å½•å’Œä½¿ç”¨ç»Ÿè®¡

### 3. æ™ºèƒ½æ–­è¨€å™¨ (asserter.go)

**åŠŸèƒ½**: åŸºäºè§†è§‰è¯­è¨€æ¨¡å‹è¿›è¡Œæ–­è¨€éªŒè¯

**æ ¸å¿ƒç±»å‹**:
```go
type Asserter struct {
    modelConfig  *ModelConfig
    model        model.ToolCallingChatModel
    systemPrompt string
    history      ConversationHistory
}

type AssertOptions struct {
    Assertion  string     `json:"assertion"`
    Screenshot string     `json:"screenshot"`
    Size       types.Size `json:"size"`
}

type AssertionResult struct {
    Pass    bool   `json:"pass"`
    Thought string `json:"thought"`
}
```

**å·¥ä½œæµç¨‹**:
1. æ¥æ”¶æ–­è¨€æ¡ä»¶å’Œå±å¹•æˆªå›¾
2. æ„å»ºæ–­è¨€éªŒè¯æç¤ºè¯
3. è°ƒç”¨è§†è§‰è¯­è¨€æ¨¡å‹è¿›è¡Œåˆ¤æ–­
4. è§£ææ¨¡å‹è¾“å‡ºä¸ºç»“æ„åŒ–ç»“æœ
5. è¿”å›æ–­è¨€é€šè¿‡çŠ¶æ€å’Œæ¨ç†è¿‡ç¨‹

**ç‰¹æ€§**:
- ç»“æ„åŒ– JSON è¾“å‡ºæ ¼å¼
- è‡ªç„¶è¯­è¨€æ–­è¨€æ”¯æŒ
- è¯¦ç»†çš„æ¨ç†è¿‡ç¨‹è®°å½•
- å¤šæ¨¡å‹é€‚é…

### 4. æ™ºèƒ½æŸ¥è¯¢å™¨ (querier.go)

**åŠŸèƒ½**: åŸºäºè§†è§‰è¯­è¨€æ¨¡å‹ä»å±å¹•æˆªå›¾ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯

**æ ¸å¿ƒç±»å‹**:
```go
type Querier struct {
    modelConfig  *ModelConfig
    model        model.ToolCallingChatModel
    systemPrompt string
    history      ConversationHistory
}

type QueryOptions struct {
    Query        string      `json:"query"`
    Screenshot   string      `json:"screenshot"`
    Size         types.Size  `json:"size"`
    OutputSchema interface{} `json:"outputSchema,omitempty"`
}

type QueryResult struct {
    Content string      `json:"content"`
    Thought string      `json:"thought"`
    Data    interface{} `json:"data,omitempty"`
}
```

**å·¥ä½œæµç¨‹**:
1. æ¥æ”¶æŸ¥è¯¢æŒ‡ä»¤å’Œå±å¹•æˆªå›¾
2. æ ¹æ®æ˜¯å¦æä¾› OutputSchema é€‰æ‹©å¤„ç†æ–¹å¼
3. è°ƒç”¨è§†è§‰è¯­è¨€æ¨¡å‹è¿›è¡Œåˆ†æ
4. è§£ææ¨¡å‹è¾“å‡ºä¸ºç»“æ„åŒ–æ•°æ®
5. è‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢å’ŒéªŒè¯

**ç‰¹æ€§**:
- æ”¯æŒè‡ªå®šä¹‰è¾“å‡ºæ ¼å¼ï¼ˆOutputSchemaï¼‰
- è‡ªåŠ¨ç±»å‹è½¬æ¢å’Œæ•°æ®éªŒè¯
- å¤šçº§å›é€€æœºåˆ¶ç¡®ä¿ç¨³å®šæ€§
- å‘åå…¼å®¹çš„APIè®¾è®¡

**åº”ç”¨åœºæ™¯**:
- **UIå…ƒç´ åˆ†æ**: æå–ç•Œé¢ä¸­çš„æŒ‰é’®ã€æ–‡æœ¬ã€å›¾æ ‡ç­‰å…ƒç´ ä¿¡æ¯
- **æ¸¸æˆç•Œé¢åˆ†æ**: åˆ†ææ¸¸æˆç½‘æ ¼ã€è§’è‰²çŠ¶æ€ã€é“å…·ä¿¡æ¯ç­‰
- **è¡¨å•æ•°æ®æå–**: ä»è¡¨å•ç•Œé¢æå–å­—æ®µå€¼å’Œç»“æ„
- **çŠ¶æ€ä¿¡æ¯è·å–**: è·å–åº”ç”¨çŠ¶æ€ã€è¿›åº¦ã€è®¾ç½®ç­‰ä¿¡æ¯

### 5. å†…å®¹è§£æå™¨ (parser_*.go)

**åŠŸèƒ½**: å°†ä¸åŒæ¨¡å‹çš„è¾“å‡ºè§£æä¸ºæ ‡å‡†åŒ–çš„å·¥å…·è°ƒç”¨æ ¼å¼

#### JSONContentParser (parser_default.go)
- é€‚ç”¨äºæ”¯æŒ JSON æ ¼å¼è¾“å‡ºçš„é€šç”¨æ¨¡å‹
- è§£ææ ‡å‡† JSON æ ¼å¼çš„åŠ¨ä½œåºåˆ—
- æ”¯æŒåæ ‡å½’ä¸€åŒ–å’Œå‚æ•°å¤„ç†

#### UITARSContentParser (parser_ui_tars.go)
- ä¸“é—¨é€‚é… UI-TARS æ¨¡å‹çš„ Thought/Action æ ¼å¼
- æ”¯æŒå¤šç§åæ ‡æ ¼å¼è§£æ (`<point>`, `<bbox>`, `[x,y,x,y]`)
- æ™ºèƒ½å‚æ•°åç§°æ˜ å°„å’Œå½’ä¸€åŒ–
- ç›¸å¯¹åæ ‡åˆ°ç»å¯¹åæ ‡è½¬æ¢

**æ ¸å¿ƒåŠŸèƒ½**:
```go
type LLMContentParser interface {
    SystemPrompt() string
    Parse(content string, size types.Size) (*PlanningResult, error)
}

type Action struct {
    ActionType   string         `json:"action_type"`
    ActionInputs map[string]any `json:"action_inputs"`
}
```

**è§£æç‰¹æ€§**:
- å¤šç§åæ ‡æ ¼å¼æ”¯æŒ
- æ™ºèƒ½å‚æ•°æ˜ å°„
- åæ ‡ç³»ç»Ÿè½¬æ¢
- é”™è¯¯å¤„ç†å’ŒéªŒè¯

### 6. è®¡ç®—æœºè§†è§‰æœåŠ¡ (cv.go)

**åŠŸèƒ½**: æä¾›å›¾åƒè¯†åˆ«å’Œåˆ†æèƒ½åŠ›

**æ ¸å¿ƒç±»å‹**:
```go
type CVResult struct {
    URL               string             `json:"url,omitempty"`
    OCRResult         OCRResults         `json:"ocrResult,omitempty"`
    LiveType          string             `json:"liveType,omitempty"`
    LivePopularity    int64              `json:"livePopularity,omitempty"`
    UIResult          UIResultMap        `json:"uiResult,omitempty"`
    ClosePopupsResult *ClosePopupsResult `json:"closeResult,omitempty"`
}

type OCRText struct {
    Text    string          `json:"text"`
    RectStr string          `json:"rect"`
    Rect    image.Rectangle `json:"-"`
}

type UIResult struct {
    Box
}

type ClosePopupsResult struct {
    Type      string `json:"type"`
    PopupArea Box    `json:"popupArea"`
    CloseArea Box    `json:"closeArea"`
    Text      string `json:"text"`
}
```

**ä¸»è¦åŠŸèƒ½**:
- **OCR æ–‡æœ¬è¯†åˆ«**: æå–æ–‡æœ¬å†…å®¹å’Œç²¾ç¡®ä½ç½®
- **UI å…ƒç´ æ£€æµ‹**: è¯†åˆ«æŒ‰é’®ã€å›¾æ ‡ç­‰ç•Œé¢å…ƒç´ 
- **å¼¹çª—æ£€æµ‹**: è‡ªåŠ¨è¯†åˆ«å¼¹çª—å’Œå…³é—­æŒ‰é’®
- **åŒºåŸŸè¿‡æ»¤**: æ”¯æŒæŒ‡å®šåŒºåŸŸçš„å…ƒç´ ç­›é€‰
- **åæ ‡è®¡ç®—**: æä¾›ä¸­å¿ƒç‚¹å’Œéšæœºç‚¹è®¡ç®—

**OCR åŠŸèƒ½ç‰¹æ€§**:
- æ–‡æœ¬ç²¾ç¡®å®šä½
- æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
- ç´¢å¼•é€‰æ‹©æ”¯æŒ
- åŒºåŸŸèŒƒå›´è¿‡æ»¤

### 7. ä¼šè¯ç®¡ç†å™¨ (session.go)

**åŠŸèƒ½**: ç®¡ç† AI å¯¹è¯çš„å†å²è®°å½•å’Œä¸Šä¸‹æ–‡

**æ ¸å¿ƒç±»å‹**:
```go
type ConversationHistory []*schema.Message
```

**ç®¡ç†ç­–ç•¥**:
- **ç”¨æˆ·æ¶ˆæ¯**: æœ€å¤šä¿ç•™ 4 æ¡ç”¨æˆ·å›¾åƒæ¶ˆæ¯
- **åŠ©æ‰‹æ¶ˆæ¯**: æœ€å¤šä¿ç•™ 10 æ¡åŠ©æ‰‹å›å¤
- **è‡ªåŠ¨æ¸…ç†**: è¶…å‡ºé™åˆ¶æ—¶è‡ªåŠ¨åˆ é™¤æœ€æ—§çš„æ¶ˆæ¯
- **ç³»ç»Ÿæ¶ˆæ¯**: å§‹ç»ˆä¿ç•™ç³»ç»Ÿæç¤ºè¯

**åŠŸèƒ½ç‰¹æ€§**:
- æ™ºèƒ½æ¶ˆæ¯ç®¡ç†
- å†…å­˜ä¼˜åŒ–
- æ—¥å¿—è®°å½•å’Œè°ƒè¯•
- æ•æ„Ÿä¿¡æ¯è„±æ•

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. ç¯å¢ƒé…ç½®

HttpRunner AI æ¨¡å—æ”¯æŒå¤šæ¨¡å‹æœåŠ¡é…ç½®ï¼Œæ‚¨å¯ä»¥åŒæ—¶é…ç½®å¤šä¸ªå¤§æ¨¡å‹æœåŠ¡ï¼Œç„¶ååœ¨æµ‹è¯•ç”¨ä¾‹ä¸­çµæ´»åˆ‡æ¢ã€‚

#### å¤šæ¨¡å‹é…ç½®æ–¹å¼

**æœåŠ¡ç‰¹å®šé…ç½®**ï¼š
```bash
# è±†åŒ…æ€ç»´è§†è§‰ä¸“ä¸šç‰ˆé…ç½®
DOUBAO_1_5_THINKING_VISION_PRO_250428_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
DOUBAO_1_5_THINKING_VISION_PRO_250428_API_KEY=your_doubao_api_key

# è±†åŒ…UI-TARSé…ç½®
DOUBAO_1_5_UI_TARS_250428_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
DOUBAO_1_5_UI_TARS_250428_API_KEY=your_doubao_ui_tars_api_key

# OpenAI GPT-4Oé…ç½®
OPENAI_GPT_4O_BASE_URL=https://api.openai.com/v1
OPENAI_GPT_4O_API_KEY=your_openai_api_key
```

**é»˜è®¤é…ç½®ï¼ˆå‘åå…¼å®¹ï¼‰**ï¼š
```bash
# é»˜è®¤é…ç½®ï¼Œå½“æ²¡æœ‰æ‰¾åˆ°æœåŠ¡ç‰¹å®šé…ç½®æ—¶ä½¿ç”¨
LLM_MODEL_NAME=doubao-1.5-thinking-vision-pro-250428
OPENAI_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
OPENAI_API_KEY=your_default_api_key
```

#### ç¯å¢ƒå˜é‡å‘½åè§„åˆ™

- å°†æœåŠ¡åç§°è½¬æ¢ä¸ºå¤§å†™
- å°†è¿å­—ç¬¦ `-` å’Œç‚¹å· `.` æ›¿æ¢ä¸ºä¸‹åˆ’çº¿ `_`
- æ·»åŠ å¯¹åº”çš„åç¼€ï¼š`_BASE_URL`ã€`_API_KEY`
- æ¨¡å‹åç§°ç›´æ¥ä»æœåŠ¡ç±»å‹æ¨å¯¼ï¼Œæ— éœ€å•ç‹¬é…ç½®

ä¾‹å¦‚ï¼š
- `doubao-1.5-thinking-vision-pro-250428` â†’ `DOUBAO_1_5_THINKING_VISION_PRO_250428_*`
- `openai/gpt-4o` â†’ `OPENAI_GPT_4O_*`
- `claude-3.5-sonnet` â†’ `CLAUDE_3_5_SONNET_*`

#### é…ç½®ä¼˜å…ˆçº§

1. **æœåŠ¡ç‰¹å®šé…ç½®**ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰ï¼š`{SERVICE_NAME}_BASE_URL`ã€`{SERVICE_NAME}_API_KEY`
2. **é»˜è®¤é…ç½®**ï¼ˆå‘åå…¼å®¹ï¼‰ï¼š`OPENAI_BASE_URL`ã€`OPENAI_API_KEY`ã€`LLM_MODEL_NAME`
3. **æ¨¡å‹åç§°**ï¼šä¼˜å…ˆä½¿ç”¨æœåŠ¡ç±»å‹åç§°ï¼Œä»…åœ¨å®Œå…¨ä½¿ç”¨é»˜è®¤é…ç½®æ—¶æ‰ä½¿ç”¨ `LLM_MODEL_NAME`

#### ç¤ºä¾‹ .env æ–‡ä»¶

```bash
# é»˜è®¤é…ç½®
LLM_MODEL_NAME=doubao-1.5-thinking-vision-pro-250428
OPENAI_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
OPENAI_API_KEY=your_default_api_key

# doubao-1.5-thinking-vision-pro-250428
DOUBAO_1_5_THINKING_VISION_PRO_250428_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
DOUBAO_1_5_THINKING_VISION_PRO_250428_API_KEY=your_doubao_thinking_api_key

# doubao-1.5-ui-tars-250428
DOUBAO_1_5_UI_TARS_250428_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
DOUBAO_1_5_UI_TARS_250428_API_KEY=your_doubao_ui_tars_api_key

# openai/gpt-4o
OPENAI_GPT_4O_BASE_URL=https://api.openai.com/v1
OPENAI_GPT_4O_API_KEY=your_openai_api_key
```

### 2. åˆ›å»º LLM æœåŠ¡

#### åœ¨æµ‹è¯•ç”¨ä¾‹ä¸­æŒ‡å®šæœåŠ¡

```json
{
    "config": {
        "name": "AIæµ‹è¯•ç”¨ä¾‹",
        "llm_service": "doubao-1.5-thinking-vision-pro-250428"
    },
    "teststeps": [
        {
            "name": "AIæ“ä½œæ­¥éª¤",
            "android": {
                "actions": [
                    {
                        "method": "start_to_goal",
                        "params": "å¯åŠ¨åº”ç”¨å¹¶å®ŒæˆæŸä¸ªä»»åŠ¡"
                    }
                ]
            }
        }
    ]
}
```

#### åœ¨Goä»£ç ä¸­ä½¿ç”¨

```go
// åˆ›å»ºè±†åŒ…æ€ç»´è§†è§‰ä¸“ä¸šç‰ˆæœåŠ¡
llmService, err := ai.NewLLMService(option.DOUBAO_1_5_THINKING_VISION_PRO_250428)
if err != nil {
    log.Fatal().Err(err).Msg("failed to create LLM service")
}

// åˆ›å»ºè±†åŒ…UI-TARSæœåŠ¡
llmService, err := ai.NewLLMService(option.DOUBAO_1_5_UI_TARS_250428)
if err != nil {
    log.Fatal().Err(err).Msg("failed to create LLM service")
}

// åˆ›å»ºOpenAI GPT-4OæœåŠ¡
llmService, err := ai.NewLLMService(option.OPENAI_GPT_4O)
if err != nil {
    log.Fatal().Err(err).Msg("failed to create LLM service")
}
```

#### æ¨¡å‹åˆ‡æ¢

è¦åˆ‡æ¢åˆ°ä¸åŒçš„æ¨¡å‹æœåŠ¡ï¼Œåªéœ€è¦ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ä¸­çš„ `llm_service` å­—æ®µï¼š

```json
{
    "config": {
        "name": "è¿è¿çœ‹æ¸¸æˆæµ‹è¯•",
        "llm_service": "doubao-1.5-ui-tars-250428"
    }
}
```

ç³»ç»Ÿä¼šè‡ªåŠ¨æ ¹æ®æœåŠ¡åç§°è·å–å¯¹åº”çš„é…ç½®ï¼Œæ— éœ€ä¿®æ”¹ç¯å¢ƒå˜é‡ã€‚

### 3. æ™ºèƒ½è§„åˆ’ä½¿ç”¨

```go
// å‡†å¤‡è§„åˆ’é€‰é¡¹
planningOpts := &ai.PlanningOptions{
    UserInstruction: "ç‚¹å‡»ç™»å½•æŒ‰é’®",
    Message: &schema.Message{
        Role: schema.User,
        MultiContent: []schema.ChatMessagePart{
            {
                Type: schema.ChatMessagePartTypeImageURL,
                ImageURL: &schema.ChatMessageImageURL{
                    URL: "data:image/jpeg;base64," + base64Screenshot,
                },
            },
        },
    },
    Size: types.Size{Width: 1080, Height: 1920},
}

// æ‰§è¡Œè§„åˆ’
result, err := llmService.Plan(ctx, planningOpts)
if err != nil {
    log.Error().Err(err).Msg("planning failed")
    return
}

// å¤„ç†è§„åˆ’ç»“æœ
for _, toolCall := range result.ToolCalls {
    log.Info().Str("action", toolCall.Function.Name).
        Interface("args", toolCall.Function.Arguments).
        Msg("planned action")
}
```

### 4. æ™ºèƒ½æ–­è¨€ä½¿ç”¨

```go
// å‡†å¤‡æ–­è¨€é€‰é¡¹
assertOpts := &ai.AssertOptions{
    Assertion:  "ç™»å½•æŒ‰é’®åº”è¯¥å¯è§",
    Screenshot: "data:image/jpeg;base64," + base64Screenshot,
    Size:       types.Size{Width: 1080, Height: 1920},
}

// æ‰§è¡Œæ–­è¨€
result, err := llmService.Assert(ctx, assertOpts)
if err != nil {
    log.Error().Err(err).Msg("assertion failed")
    return
}

// æ£€æŸ¥æ–­è¨€ç»“æœ
if result.Pass {
    log.Info().Str("thought", result.Thought).Msg("assertion passed")
} else {
    log.Warn().Str("thought", result.Thought).Msg("assertion failed")
}
```

### 5. æ™ºèƒ½æŸ¥è¯¢ä½¿ç”¨

#### åŸºç¡€æŸ¥è¯¢

```go
// åŸºç¡€æŸ¥è¯¢ï¼Œè¿”å›æ–‡æœ¬æè¿°
queryOpts := &ai.QueryOptions{
    Query:      "è¯·æè¿°è¿™å¼ å›¾ç‰‡ä¸­çš„å†…å®¹",
    Screenshot: "data:image/jpeg;base64," + base64Screenshot,
    Size:       types.Size{Width: 1080, Height: 1920},
}

result, err := llmService.Query(ctx, queryOpts)
if err != nil {
    log.Error().Err(err).Msg("query failed")
    return
}

log.Info().Str("content", result.Content).
    Str("thought", result.Thought).
    Msg("query result")
```

#### è‡ªå®šä¹‰æ ¼å¼æŸ¥è¯¢

```go
// å®šä¹‰è¾“å‡ºæ•°æ®ç»“æ„
type GameInfo struct {
    Content string   `json:"content"`
    Thought string   `json:"thought"`
    Rows    int      `json:"rows"`
    Cols    int      `json:"cols"`
    Icons   []string `json:"icons"`
}

// è‡ªå®šä¹‰æ ¼å¼æŸ¥è¯¢
queryOpts := &ai.QueryOptions{
    Query:        "è¯·åˆ†æè¿™ä¸ªè¿è¿çœ‹æ¸¸æˆç•Œé¢ï¼Œå‘Šè¯‰æˆ‘æœ‰å¤šå°‘è¡Œå¤šå°‘åˆ—ï¼Œæœ‰å“ªäº›ä¸åŒç±»å‹çš„å›¾æ¡ˆ",
    Screenshot:   "data:image/jpeg;base64," + base64Screenshot,
    Size:         types.Size{Width: 1080, Height: 1920},
    OutputSchema: GameInfo{},
}

result, err := llmService.Query(ctx, queryOpts)
if err != nil {
    log.Error().Err(err).Msg("query failed")
    return
}

// ç›´æ¥ç±»å‹æ–­è¨€è·å–ç»“æ„åŒ–æ•°æ®
if gameInfo, ok := result.Data.(*GameInfo); ok {
    log.Info().Int("rows", gameInfo.Rows).
        Int("cols", gameInfo.Cols).
        Strs("icons", gameInfo.Icons).
        Msg("game analysis result")
} else {
    log.Error().Msg("failed to convert to GameInfo")
}
```

#### æ³›å‹ç±»å‹è½¬æ¢ï¼ˆå¯é€‰ï¼‰

```go
// ä½¿ç”¨æ³›å‹å‡½æ•°è¿›è¡Œç±»å‹è½¬æ¢ï¼ˆå½“éœ€è¦è½¬æ¢ä¸ºä¸åŒç±»å‹æ—¶ï¼‰
gameInfo, err := ai.ConvertQueryResultData[GameInfo](result)
if err != nil {
    log.Error().Err(err).Msg("failed to convert data")
    return
}

log.Info().Interface("gameInfo", gameInfo).Msg("converted game info")
```

### 6. è®¡ç®—æœºè§†è§‰ä½¿ç”¨

```go
// åˆ›å»º CV æœåŠ¡
cvService, err := ai.NewCVService(option.CVServiceTypeVEDEM)
if err != nil {
    log.Fatal().Err(err).Msg("failed to create CV service")
}

// ä»å›¾åƒç¼“å†²åŒºè¯»å–
cvResult, err := cvService.ReadFromBuffer(imageBuffer)
if err != nil {
    log.Error().Err(err).Msg("CV analysis failed")
    return
}

// å¤„ç† OCR ç»“æœ
ocrTexts := cvResult.OCRResult.ToOCRTexts()
for _, ocrText := range ocrTexts {
    log.Info().Str("text", ocrText.Text).
        Str("rect", ocrText.RectStr).
        Msg("found text")
}

// æŸ¥æ‰¾ç‰¹å®šæ–‡æœ¬
targetText, err := ocrTexts.FindText("ç™»å½•", option.WithRegex(false))
if err != nil {
    log.Error().Err(err).Msg("text not found")
    return
}

// è·å–æ–‡æœ¬ä¸­å¿ƒç‚¹
center := targetText.Center()
log.Info().Float64("x", center.X).Float64("y", center.Y).
    Msg("text center coordinates")
```

## ğŸ“‹ é…ç½®å‚æ•°

### æ¨¡å‹é…ç½®

| å‚æ•° | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|------|--------|
| `BaseURL` | string | API åŸºç¡€ URL | ä»ç¯å¢ƒå˜é‡è¯»å– |
| `APIKey` | string | API å¯†é’¥ | ä»ç¯å¢ƒå˜é‡è¯»å– |
| `Model` | string | æ¨¡å‹åç§° | ä»ç¯å¢ƒå˜é‡è¯»å– |
| `Temperature` | float32 | æ¸©åº¦å‚æ•° | 0 |
| `TopP` | float32 | Top-P å‚æ•° | 0.7 |
| `Timeout` | time.Duration | è¯·æ±‚è¶…æ—¶ | 30s |

### è§„åˆ’é€‰é¡¹

| å‚æ•° | ç±»å‹ | è¯´æ˜ | å¿…éœ€ |
|------|------|------|------|
| `UserInstruction` | string | ç”¨æˆ·æŒ‡ä»¤ | âœ“ |
| `Message` | *schema.Message | æ¶ˆæ¯å†…å®¹ | âœ“ |
| `Size` | types.Size | å±å¹•å°ºå¯¸ | âœ“ |
| `ResetHistory` | bool | æ˜¯å¦é‡ç½®å†å² | âœ— |

### æ–­è¨€é€‰é¡¹

| å‚æ•° | ç±»å‹ | è¯´æ˜ | å¿…éœ€ |
|------|------|------|------|
| `Assertion` | string | æ–­è¨€æ¡ä»¶ | âœ“ |
| `Screenshot` | string | Base64 æˆªå›¾ | âœ“ |
| `Size` | types.Size | å±å¹•å°ºå¯¸ | âœ“ |

### æŸ¥è¯¢é€‰é¡¹

| å‚æ•° | ç±»å‹ | è¯´æ˜ | å¿…éœ€ |
|------|------|------|------|
| `Query` | string | æŸ¥è¯¢æŒ‡ä»¤ | âœ“ |
| `Screenshot` | string | Base64 æˆªå›¾ | âœ“ |
| `Size` | types.Size | å±å¹•å°ºå¯¸ | âœ“ |
| `OutputSchema` | interface{} | è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼ | âœ— |

## ğŸ” é«˜çº§ç‰¹æ€§

### 1. å¤šæ¨¡å‹é€‚é…

AI æ¨¡å—æ”¯æŒå¤šç§ä¸åŒçš„è¯­è¨€æ¨¡å‹ï¼Œæ¯ç§æ¨¡å‹éƒ½æœ‰å…¶ç‰¹å®šçš„ä¼˜åŠ¿ï¼š

- **è±†åŒ…æ€ç»´è§†è§‰ä¸“ä¸šç‰ˆ**: æ”¯æŒæ·±åº¦æ€è€ƒçš„è§†è§‰è¯­è¨€æ¨¡å‹ï¼Œé€‚åˆå¤æ‚åœºæ™¯åˆ†æ
- **è±†åŒ…UI-TARS**: ä¸“é—¨é’ˆå¯¹ UI è‡ªåŠ¨åŒ–ä¼˜åŒ–çš„æ¨¡å‹ï¼Œæ”¯æŒ Thought/Action æ ¼å¼
- **OpenAI GPT-4O**: å¼ºå¤§çš„å¤šæ¨¡æ€æ¨¡å‹ï¼Œæ”¯æŒè§†è§‰ç†è§£å’Œæ¨ç†

### 2. åæ ‡ç³»ç»Ÿè½¬æ¢

æ”¯æŒå¤šç§åæ ‡æ ¼å¼çš„æ™ºèƒ½è½¬æ¢ï¼š

```go
// ç›¸å¯¹åæ ‡ (0-1000 èŒƒå›´) è½¬æ¢ä¸ºç»å¯¹åƒç´ åæ ‡
func convertRelativeToAbsolute(relativeCoord float64, isXCoord bool, size types.Size) float64 {
    if isXCoord {
        return math.Round((relativeCoord/DefaultFactor*float64(size.Width))*10) / 10
    }
    return math.Round((relativeCoord/DefaultFactor*float64(size.Height))*10) / 10
}
```

### 3. æ™ºèƒ½å‚æ•°æ˜ å°„

è‡ªåŠ¨å¤„ç†ä¸åŒæ¨¡å‹è¾“å‡ºæ ¼å¼çš„å‚æ•°åç§°æ˜ å°„ï¼š

```go
func normalizeParameterName(paramName string) string {
    switch paramName {
    case "start_point":
        return "start_box"
    case "end_point":
        return "end_box"
    case "point":
        return "start_box"
    default:
        return paramName
    }
}
```

### 4. å¯¹è¯å†å²ä¼˜åŒ–

æ™ºèƒ½ç®¡ç†å¯¹è¯å†å²ï¼Œå¹³è¡¡ä¸Šä¸‹æ–‡å®Œæ•´æ€§å’Œå†…å­˜ä½¿ç”¨ï¼š

- ç”¨æˆ·å›¾åƒæ¶ˆæ¯é™åˆ¶ï¼š4 æ¡
- åŠ©æ‰‹å›å¤æ¶ˆæ¯é™åˆ¶ï¼š10 æ¡
- è‡ªåŠ¨æ¸…ç†ç­–ç•¥ï¼šFIFO (å…ˆè¿›å…ˆå‡º)

### 5. è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼

æŸ¥è¯¢åŠŸèƒ½æ”¯æŒç”¨æˆ·å®šä¹‰çš„ç»“æ„åŒ–è¾“å‡ºæ ¼å¼ï¼š

```go
// å®šä¹‰å¤æ‚çš„åµŒå¥—æ•°æ®ç»“æ„
type UIAnalysisResult struct {
    Content    string      `json:"content"`
    Thought    string      `json:"thought"`
    Elements   []UIElement `json:"elements"`
    Statistics Statistics  `json:"statistics"`
}

type UIElement struct {
    Type        string      `json:"type"`
    Text        string      `json:"text"`
    BoundingBox BoundingBox `json:"boundingBox"`
    Clickable   bool        `json:"clickable"`
}

// ä½¿ç”¨è‡ªå®šä¹‰æ ¼å¼è¿›è¡ŒæŸ¥è¯¢
result, err := llmService.Query(ctx, &ai.QueryOptions{
    Query:        "åˆ†æç•Œé¢ä¸­çš„æ‰€æœ‰UIå…ƒç´ ",
    Screenshot:   screenshot,
    Size:         size,
    OutputSchema: UIAnalysisResult{},
})

// è‡ªåŠ¨ç±»å‹è½¬æ¢
uiAnalysis := result.Data.(*UIAnalysisResult)
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ç¯å¢ƒå˜é‡é…ç½®
- ç¡®ä¿æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡éƒ½å·²æ­£ç¡®è®¾ç½®
- API å¯†é’¥éœ€è¦æœ‰è¶³å¤Ÿçš„æƒé™å’Œé…é¢
- æ”¯æŒå¤šæ¨¡å‹é…ç½®ï¼Œå¯ä»¥åŒæ—¶é…ç½®å¤šä¸ªæœåŠ¡
- æ¨¡å‹åç§°è‡ªåŠ¨ä»æœåŠ¡ç±»å‹æ¨å¯¼ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

### 2. å›¾åƒæ ¼å¼è¦æ±‚
- æ”¯æŒ Base64 ç¼–ç çš„å›¾åƒæ•°æ®
- æ¨èä½¿ç”¨ JPEG æ ¼å¼ä»¥å‡å°‘æ•°æ®ä¼ è¾“é‡
- å›¾åƒå°ºå¯¸ä¿¡æ¯å¿…é¡»å‡†ç¡®æä¾›

### 3. åæ ‡ç³»ç»Ÿ
- è±†åŒ…UI-TARS ä½¿ç”¨ 1000x1000 ç›¸å¯¹åæ ‡ç³»ç»Ÿ
- éœ€è¦æ­£ç¡®çš„å±å¹•å°ºå¯¸ä¿¡æ¯è¿›è¡Œåæ ‡è½¬æ¢
- æ³¨æ„ä¸åŒæ¨¡å‹çš„åæ ‡æ ¼å¼å·®å¼‚

### 4. é”™è¯¯å¤„ç†
- ç½‘ç»œè¯·æ±‚å¯èƒ½å¤±è´¥ï¼Œéœ€è¦é€‚å½“çš„é‡è¯•æœºåˆ¶
- æ¨¡å‹è¾“å‡ºæ ¼å¼å¯èƒ½ä¸ç¨³å®šï¼Œéœ€è¦å¥å£®çš„è§£æé€»è¾‘
- èµ„æºä½¿ç”¨éœ€è¦ç›‘æ§ï¼Œé¿å…å†…å­˜æ³„æ¼

### 5. æ€§èƒ½è€ƒè™‘
- LLM è°ƒç”¨æœ‰å»¶è¿Ÿï¼Œé€‚åˆå¼‚æ­¥å¤„ç†
- å›¾åƒæ•°æ®è¾ƒå¤§ï¼Œæ³¨æ„ç½‘ç»œä¼ è¾“ä¼˜åŒ–
- å¯¹è¯å†å²ä¼šå ç”¨å†…å­˜ï¼Œéœ€è¦å®šæœŸæ¸…ç†

### 6. æŸ¥è¯¢åŠŸèƒ½ä½¿ç”¨
- æŒ‡å®š OutputSchema æ—¶ï¼ŒData å­—æ®µä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå¯¹åº”ç±»å‹
- æ”¯æŒå¤æ‚çš„åµŒå¥—æ•°æ®ç»“æ„å®šä¹‰
- å»ºè®®ä½¿ç”¨ç±»å‹æ–­è¨€ç›´æ¥è·å–ç»“æ„åŒ–æ•°æ®
- ConvertQueryResultData å‡½æ•°ä¸»è¦ç”¨äºç±»å‹è½¬æ¢çš„ç‰¹æ®Šåœºæ™¯

## ğŸ§ª æµ‹è¯•æ•°æ®

æ¨¡å—åŒ…å«ä¸°å¯Œçš„æµ‹è¯•æ•°æ®ï¼Œä½äº `testdata/` ç›®å½•ï¼š

- `xhs-feed.jpeg`: å°çº¢ä¹¦ä¿¡æ¯æµç•Œé¢
- `popup_risk_warning.png`: é£é™©è­¦å‘Šå¼¹çª—
- `llk_*.png`: è¿è¿çœ‹æ¸¸æˆç•Œé¢
- `deepseek_*.png`: DeepSeek åº”ç”¨ç•Œé¢
- `chat_list.jpeg`: èŠå¤©åˆ—è¡¨ç•Œé¢

è¿™äº›æµ‹è¯•æ•°æ®è¦†ç›–äº†å„ç§å…¸å‹çš„ UI åœºæ™¯ï¼Œç”¨äºéªŒè¯ AI æ¨¡å—çš„åŠŸèƒ½æ­£ç¡®æ€§ã€‚

## ğŸ“ˆ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„æ¨¡å‹æ”¯æŒ

1. åœ¨ `option` åŒ…ä¸­å®šä¹‰æ–°çš„æ¨¡å‹ç±»å‹
2. å®ç°å¯¹åº”çš„ `LLMContentParser`
3. åœ¨ `GetModelConfig` ä¸­æ·»åŠ æ¨¡å‹éªŒè¯é€»è¾‘
4. æ›´æ–°ç³»ç»Ÿæç¤ºè¯å’Œè¾“å‡ºæ ¼å¼

### æ·»åŠ æ–°çš„ CV æœåŠ¡

1. å®ç° `ICVService` æ¥å£
2. åœ¨ `NewCVService` ä¸­æ·»åŠ æœåŠ¡åˆ›å»ºé€»è¾‘
3. å®šä¹‰æœåŠ¡ç‰¹å®šçš„é…ç½®å’Œé€‰é¡¹
4. æ·»åŠ ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹

### æ‰©å±•æŸ¥è¯¢åŠŸèƒ½

1. å®šä¹‰æ–°çš„æ•°æ®ç»“æ„æ¨¡æ¿
2. ä¼˜åŒ– JSON Schema ç”Ÿæˆé€»è¾‘
3. å¢å¼ºç±»å‹è½¬æ¢å’ŒéªŒè¯æœºåˆ¶
4. æ·»åŠ æ›´å¤šåº”ç”¨åœºæ™¯çš„ç¤ºä¾‹

### ä¼˜åŒ–è§£æé€»è¾‘

1. æ‰©å±•åæ ‡æ ¼å¼æ”¯æŒ
2. æ”¹è¿›å‚æ•°æ˜ å°„è§„åˆ™
3. å¢å¼ºé”™è¯¯å¤„ç†æœºåˆ¶
4. ä¼˜åŒ–æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨

é€šè¿‡è¿™äº›æ‰©å±•ç‚¹ï¼ŒAI æ¨¡å—å¯ä»¥æŒç»­æ¼”è¿›ï¼Œæ”¯æŒæ›´å¤šçš„æ¨¡å‹å’ŒæœåŠ¡ï¼Œæä¾›æ›´å¼ºå¤§çš„æ™ºèƒ½åŒ– UI è‡ªåŠ¨åŒ–èƒ½åŠ›ã€‚